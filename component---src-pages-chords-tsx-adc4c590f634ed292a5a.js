(self.webpackChunkmaria_dot_engineer=self.webpackChunkmaria_dot_engineer||[]).push([[367],{9455:function(e){let t,n,r,o,i,s,a,l,c,d,u,f;const h=[{token:"XyQ",description:"Empty space"},{token:/\*\w/,description:"Section marker"},{token:/<(.*?)>/,description:"Comments inside carets",operation:function(e){"d.c. al 3rd ending"===e[1].toLowerCase()&&(s=!0);"d.c. al fine"===e[1].toLowerCase()&&(l=!0);"d.c. al coda"===e[1].toLowerCase()&&(c=!0);"d.s. al coda"===e[1].toLowerCase()&&(d=!0);"fine"===e[1].toLowerCase()&&(a=t.length)}},{token:/T(\d+)/,description:"Time signature",operation:function(e){i=e[1]}},{token:"x",description:"Repeat previous measure in current measure",operation:function(){t[t.length-1]=t[t.length-2]}},{token:"Kcl",description:"Repeat previous measure and create new measure",operation:function(){t[t.length]=t[t.length-1]}},{token:"r|XyQ",description:"Repeat previous two measures",operation:function(){t[t.length-1]=t[t.length-3],t[t.length]=t[t.length-2]}},{token:/Y+/,description:"Vertical spacers"},{token:"n",description:"No Chord (N.C)",operation:function(){0===t.length&&t.push([]);t[t.length-1].push(null)}},{token:"p",description:"Pause slash"},{token:"U",description:"Ending measure for player"},{token:"S",description:"Segno",operation:function(){f=t.length-1}},{token:"Q",description:"Coda",operation:function(){u=t.length}},{token:"{",description:"Start repeat marker",operation:function(){p(),n=t.length-1,o=null}},{token:"}",description:"End repeat marker",operation:m},{token:"LZ|",description:"Bar line",operation:p},{token:"|",description:"Bar line",operation:p},{token:"LZ",description:"Bar line",operation:p},{token:"[",description:"Double bar start",operation:p},{token:"]",description:"Double bar end",operation:b},{token:/N(\d)/,description:"Numbered endings",operation:function(e){1===parseInt(e[1])&&(o=t.length-1)}},{token:"Z",description:"Final bar line",operation:b},{token:/[A-GW]{1}[\+\-\^\dhob#suadlt]*(\/[A-G][#b]?)?/,description:"Chord",operation:function(e){0===t.length&&t.push([]);let n=e[0];n.startsWith("W")&&r?n=n.replace("W",r):r=n.split("/")[0];t[t.length-1].push(n)}}];function p(){0!==t.length&&0===t[t.length-1].length||t.push([])}function m(){o||(o=t.length),t.push(...t.slice(n,o)),p()}function b(){s&&(m(),s=!1),l&&(t.push(...t.slice(0,a)),l=!1),c&&(t.push(...t.slice(0,u)),c=!1),d&&(t.push(...t.slice(f,u)),d=!1)}function g(e){for(let t=0;t<h.length;t++){const n=h[t];if("string"==typeof n.token&&e.startsWith(n.token)){n.operation&&n.operation(),g(e.substring(n.token.length).trim());break}if(n.token instanceof RegExp){const t=e.match(n.token);if(t&&0===t.index){n.operation&&n.operation(t),g(e.substring(t[0].length).trim());break}}t===h.length-1&&e.length>1&&g(e.substring(1))}}function k(e){return e.filter((e=>0!==e.length))}e.exports=function(e){return t=[],n=null,o=null,r=null,u=null,f=null,i=null,s=!1,c=!1,d=!1,a=null,l=!1,g(e),{measures:k(t),timeSignature:i,raw:e}}},1442:function(e,t,n){"use strict";const r=/.*?irealb:\/\/([^"]*)/,o="1r34LbKcu7",i=n(8559),s=n(9455);function a(e){const t=e.split(o);return s(i.ireal(t[1]))}e.exports=function(e){const t=r.exec(e),n=decodeURIComponent(t[1]).split("===");return{name:n.length>1?n.pop():void 0,songs:n.map((e=>function(e){const t=e.split(/=+/).filter((e=>""!=e));let n,r,i,s,l,c,d,u,f=null;return 7===t.length&&([n,r,i,s,c,u,f]=t),8===t.length&&t[4].startsWith(o)&&([n,r,i,s,c,d,u,f]=t),8===t.length&&t[5].startsWith(o)&&([n,r,i,s,l,c,u,f]=t),9===t.length&&([n,r,i,s,l,c,d,u,f]=t),{title:n,composer:r,style:i,key:s,transpose:l?parseInt(l):null,music:a(c),compStyle:d,bpm:u?parseInt(u):null,repeats:f?parseInt(f):null}}(e)))}}},8559:function(e,t){"use strict";function n(e){let t=e.split("");for(let n=0;n<5;n++)t[49-n]=e[n],t[n]=e[49-n];for(let n=10;n<24;n++)t[49-n]=e[n],t[n]=e[49-n];return t.join("")}t.ireal=function(e){let t,r="";for(;e.length>50;)t=e.substring(0,50),(e=e.substring(50)).length<2?r+=t:r+=n(t);return r+=e,r}},9267:function(e,t,n){"use strict";var r=n(1319),o=n(7294),i=n(3431);t.Z=function(e){if(null==e.setNote)return(0,i.tZ)(o.Fragment,null,(0,r.l3)(e.note));{const{0:t,1:n}=(0,o.useState)(!0),s=t=>{try{e.setNote((0,r.pb)(t.target.value)),n(!0)}catch(o){n(!1)}};return(0,i.tZ)("input",{type:"text",className:t?"lcars-form-control lcars-is-valid":"lcars-form-control lcars-is-invalid",placeholder:(0,r.l3)(e.note),"aria-label":"Note","aria-describedby":"basic-addon1",onChange:s})}}},190:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(7294);var r=n(9267),o=n(3431);function i(e){const t=e.notes;return null==t?(0,o.tZ)("div",null):(0,o.tZ)("div",{className:"d-inline-flex flex-wrap pl-2 pr-2 bd-highlight "},t.map(((e,t)=>(0,o.tZ)("h2",{className:"d-flex bd-highlight px-2"},(0,o.tZ)(r.Z,{key:t,note:e,setNote:null})))))}},1319:function(e,t,n){"use strict";n.d(t,{UV:function(){return y},W5:function(){return d},WP:function(){return f},Y:function(){return x},il:function(){return h},l3:function(){return b},pb:function(){return Z},w:function(){return u},x7:function(){return g},yZ:function(){return c}});const r=[2,2,1,2,2,2,1],o=[2,1,2,2,1,3,1],i=[2,1,2,2,1,2,2],s=[1,1,1,1,1,1,1,1,1,1,1],a=[2,1,2,1,2,1,2,1],l=[1,2,1,2,2,2,2];function c(e,t){const n=[e];let c=[0],u=!1;switch(t){case"CHROMATIC":c=s;break;case"NATURAL":const t=d(e);u=-1==t.modifier||"F"==t.base&&0==t.modifier,c=i;break;case"HARMONIC":const n=d(e);u=-1==n.modifier||"F"==n.base&&0==n.modifier,c=o;break;case"MAJOR":c=r,u=-1==e.modifier||"F"==e.base&&0==e.modifier;break;case"DIMINISHED":c=a;break;case"ALTERED":c=l}let h=e;for(let r of c){for(let e=0;e<r;e++)h=f(h,u);n.push(h)}return n}function d(e){let t=e;for(let n=0;n<3;n++)t=f(t,!0);return t}function u(e){let t=e;for(let n=0;n<3;n++)t=h(t,!0);return t}function f(e,t){return-1==e.modifier?{base:e.base,modifier:0}:1==e.modifier?"E"==e.base||"B"==e.base?t?{base:p(p(e.base)),modifier:-1}:{base:p(e.base),modifier:1}:{base:p(e.base),modifier:0}:"E"==e.base||"B"==e.base?{base:p(e.base),modifier:0}:t?{base:p(e.base),modifier:-1}:{base:e.base,modifier:1}}function h(e,t){return 1==e.modifier?{base:e.base,modifier:0}:-1==e.modifier?("F"==e.base||"C"==e.base)&&t?{base:m(e.base),modifier:-1}:{base:m(e.base),modifier:0}:"F"==e.base||"C"==e.base?{base:m(e.base),modifier:0}:t?{base:e.base,modifier:-1}:{base:m(e.base),modifier:1}}function p(e){return"G"==e?"A":String.fromCharCode(e.charCodeAt(0)+1)}function m(e){return"A"==e?"G":String.fromCharCode(e.charCodeAt(0)-1)}function b(e){return e.base+function(e){if(0==e.modifier)return"";if(1==e.modifier)return"♯";if(-1==e.modifier)return"♭";return""}(e)}function g(e){let t=b(e.tonic)+function(e){switch(e){case"MAJOR":return"";case"MINOR":return"-";case"DIMINISHED":return"dim"}}(e.type);for(let n of e.addOns)t+=k(n);return t}function k(e){if(7==e.index){const t="7";return 0==e.modifier?"maj"+t:-1==e.modifier?t:"8"}{const t=e.index>5?e.index.toString():(e.index+8).toString();return t.length>1?0==e.modifier?"("+t+")":-1==e.modifier?"(b"+t+")":"(#"+t+")":0==e.modifier?t:-1==e.modifier?"b"+t:"#"+t}}function Z(e){if(console.log("NoteParse:"+e+"\n"),e.length>2)throw"Invalid Note";const t=String.fromCharCode(e.charCodeAt(0));if(!["A","B","C","D","E","F","G"].includes(t))throw console.log("Wrong Base:"+t),"Invalid Note";if(1==e.length)return{base:t,modifier:0};const n="#"===e.charAt(1)||"♯"==e.charAt(1)?1:"b"===e.charAt(1)||"♭"==e.charAt(1)?-1:0;if(0==n&&e.length>1)throw"Invalid note";return{base:t,modifier:n}}const v={dim:"DIMINISHED",h:"DIMINISHED","Δ":"DIMINISHED",min:"MINOR","-":"MINOR",minor:"MINOR",M:"MAJOR"},N=/^(sus|maj7|\^7|add\d+|(#|\u266F|\u266D|b)?\d|\((#|\u266F|\u266D|b)?\d+\))/gm,C="^(A|B|C|D|E|F|G)(#|♯|♭|b)?";function x(e){const t=e.match(C);if(null==t||0==t.length)throw console.log(e),"Invalid Chord";const n=Z(t[0]);let r=e.slice(t[0].length);console.log("Note Excluded:"+r);let o="MAJOR",i="";for(var s in v)v.hasOwnProperty(s)&&r.startsWith(s)&&(console.log("starts with "+s),o=v[s],i=s);r=r.slice(i.length);let a=[];for(;r.length>0;){let e=r.match(N);if(console.log("Match:"+JSON.stringify(e)+"\n"),null==e)throw"Invalid Chord";{const t=e[0];t.startsWith("(")?a.push(I(t.slice(1,t.length-1))):a.push(I(t)),r=r.slice(t.length)}}return{tonic:n,type:o,addOns:a}}function I(e){if(e.length<1)throw"Invalid";if(e.startsWith("maj"))return{index:7,modifier:0};if(e.startsWith("sus"))return{index:4,modifier:0};if(e.startsWith("7"))return{index:7,modifier:-1};if(e.startsWith("^"))return{index:7,modifier:0};let t=1,n=0;if("#"!==e.charAt(0)&&"♯"!=e.charAt(0)&&"b"!==e.charAt(0)&&"♭"!=e.charAt(0)||(t=parseInt(e.slice(1)),n="#"===e.charAt(0)||"♯"==e.charAt(0)?1:-1),e.startsWith("add")?(t=parseInt(e.slice(3)),n=0):(t=parseInt(e),n=0),0==t||1==t||8==t||null==t)throw"invalid";return{index:t,modifier:n}}function y(e){const t=c(e.tonic,"MAJOR");var n=[];switch(e.type){case"DIMINISHED":n=c(e.tonic,"DIMINISHED");break;case"MAJOR":n=t;break;case"MINOR":n=c(e.tonic,"NATURAL")}var r=[n[0],n[2],n[4]];for(var o of e.addOns){const e=o.index<t.length?o.index-1:o.index%t.length;0==o.modifier?r.push(t[e]):-1==o.modifier?r.push(h(t[e],!0)):r.push(f(t[e],!1))}return r}},1495:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(7294),o=n(1319),i=n(190),s=n(2755),a=n(7431),l=n(4566),c=n(3431);var d=function(e){if(null==e.setChord)return(0,c.tZ)("h2",{className:"d-flex bd-highlight px-2"},(0,o.x7)(e.chord));{const{0:t,1:n}=(0,r.useState)(!0),i=t=>{try{e.setChord&&e.setChord((0,o.Y)(t.target.value)),n(!0)}catch(r){n(!1)}};return(0,c.tZ)("div",{className:"buttons d-flex flex-row mb-3 ml-3"},(0,c.tZ)("input",{"data-bs-theme":"dark",type:"text",className:t?"mr-21 lcars-form-control lcars-lcars-is-valid":"mr-21 lcars-form-control lcars-is-invalid",placeholder:(0,o.x7)(e.chord),"aria-label":"Note","aria-describedby":"basic-addon1",onChange:i}),(0,c.tZ)(l.oT,{className:t?"orange":"c46",disabled:!t,onClick:()=>e.setChord({tonic:(0,o.il)(e.chord.tonic,!0),type:e.chord.type,addOns:e.chord.addOns})},"Transpose down"),(0,c.tZ)(l.oT,{className:t?"orange":"c46",disabled:!t,onClick:()=>e.setChord({tonic:(0,o.WP)(e.chord.tonic,!1),type:e.chord.type,addOns:e.chord.addOns})},"Transpose up"))}};const u=n(1442);function f(){const{0:e,1:t}=(0,r.useState)({tonic:{base:"C",modifier:0},type:"MAJOR",addOns:[]});return(0,c.tZ)(s.Z,{currentPage:"Music",currentSubPage:"Chords"},(0,c.tZ)(a.Z,{title:"Chords",description:"Given chord find all the notes you can play in jazz improv.",keywords:["music","theory","chords","jazz","generate","notes","improv","jazz improvisation chord generation"]}),(0,c.tZ)("div",null,(0,c.tZ)("h2",null,"Main Chord"),(0,c.tZ)("p",null,(0,c.tZ)(d,{chord:e,setChord:t}))),(0,c.tZ)("div",null,(0,c.tZ)("h2",null,"Available Notes:"),(0,c.tZ)("p",null," ",(0,c.tZ)("div",{className:"lcars-card"},(0,c.tZ)("div",{className:"card-body"},(0,c.tZ)(i.Z,{notes:(0,o.UV)(e)}))))),(0,c.tZ)("div",null,(0,c.tZ)("h2",null,"Full Song"),(0,c.tZ)("p",null,(0,c.tZ)(h,null))))}function h(){const{0:e,1:t}=(0,r.useState)(""),{0:n,1:i}=(0,r.useState)(void 0),{0:s,1:a}=(0,r.useState)(""),{0:d,1:f}=(0,r.useState)(void 0);return(0,c.tZ)("div",null,(0,c.tZ)("div",{className:"d-flex flex-row"},(0,c.tZ)("div",{className:"align-self-center mr-5"},"iReal URL:","  "),(0,c.tZ)("input",{type:"text",className:"lcars-form-control lcars-big-input",placeholder:null!=e?e:"","aria-label":"Note","aria-describedby":"basic-addon1",onChange:e=>t(e.target.value)}),(0,c.tZ)(l.zx,{className:e?"orange":"c46",disabled:null===e,onClick:()=>{console.log("click");const t=u(e).songs[0],n=t.music.measures;f((0,o.pb)(t.key)),i({bars:n.map((e=>({chords:e.map((e=>{var t;return null!==(t=(0,o.Y)(e))&&void 0!==t?t:null}))})))}),a(t.title)}},"Process")),d&&(0,c.tZ)("div",{className:"buttons d-flex flex-row justify-content-around"},(0,c.tZ)("h2",{className:"align-self-center mr-5"},null!=s?s:"Unknown"," in the key of ",(0,o.l3)(d)),(0,c.tZ)(l.oT,{className:n&&d?"orange":"c46",disabled:!n||!d,onClick:()=>{i({bars:n.bars.map((e=>({chords:e.chords.map((e=>e?function(e){return{tonic:(0,o.il)(e.tonic,!0),type:e.type,addOns:e.addOns}}(e):e))})))}),f((0,o.il)(d,!0))}},"Transpose down"),(0,c.tZ)(l.oT,{className:n&&d?"orange":"c46",disabled:!n||!d,onClick:()=>{i({bars:n.bars.map((e=>({chords:e.chords.map((e=>e?function(e){return{tonic:(0,o.WP)(e.tonic,!1),type:e.type,addOns:e.addOns}}(e):e))})))}),f((0,o.WP)(d,!0))}},"Transpose up")),n&&(0,c.tZ)(r.Fragment,null,(0,c.tZ)("h3",null,"Use the following Notes in the song:"),(0,c.tZ)(p,{data:n})))}function p(e){let{data:t}=e;return null===t?(0,c.tZ)("div",null):(0,c.tZ)("div",{className:"flex-wrap d-flex flex-row"},t.bars.map((e=>(0,c.tZ)("div",{className:"d-flex flex-row flex-fill"},e.chords.map((e=>(0,c.tZ)("div",null,void 0===e?(0,c.tZ)("div",null):(0,c.tZ)(i.Z,{notes:(0,o.UV)(e)})))),(0,c.tZ)("div",null,"|")))))}}}]);
//# sourceMappingURL=component---src-pages-chords-tsx-adc4c590f634ed292a5a.js.map